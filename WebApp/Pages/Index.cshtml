@page
@model WebApp.Pages.IndexModel
@{
    ViewData["Title"] = "Home page";
}


<section class="banner" style="background-image: url('img/banner.jpg');
                                background-position: 0 20%;
                                background-repeat: no-repeat; 
                                background-size: cover;
                                height: 66vw;
                                max-height: 500px">
    <div style="width: 100%;
                    height: 100%;
                    display: flex; 
                    justify-content: center; 
                    align-items: center">
        <h2 style="color: #fff;">
            Portfolio
        </h2>
    </div>
</section>

<div class="content-container-lg">
    <div class="py-5">
        <h2 class="pb-5">Projects</h2>
        
        <div>
            @for(var i = 0; i < Model.Projects.Length; i++)
            {
                var project = Model.Projects[i];
                var columnClass = i % 2 == 0 ? "flex-column" : "flex-column-reverse";
                <div class="d-flex flex-md-row gap-3 mb-2">
                    <div class="col-12 col-md-6 d-flex justify-content-center">
                        @if (i % 2 != 1)
                        {
                            <h4 class="fw-semibold">@project.Title</h4>
                        }
                    </div>
                    <div class="col-12 col-md-6 d-flex justify-content-center">
                        @if (i % 2 == 1)
                        {
                            <h4 class="fw-semibold">@project.Title</h4>
                        }
                    </div>
                </div>
                <div class="d-flex flex-md-row @columnClass gap-3 mb-5">
                    @if (i % 2 == 1)
                    {
                        // This should be identical to the even image element after. Could this element be stored in a variable
                        <div class="col-12 col-md-6 overflow-hidden d-flex justify-content-center">
                            <img src="@project.Image.Src" alt="@project.Image.Alt" style="max-width: 100%;">
                        </div>
                    }
                    <div class="col-12 col-md-6">
                        <p>
                            @project.Description
                        </p>
                        <div class="my-3">
                            <span class="fw-semibold">Tech stack:</span>
                            <ul class="taglist">
                                @foreach (var tech in project.TechStack)
                                {
                                    <li>
                                        <span class="badge rounded-pill text-bg-light">@tech</span>
                                    </li>
                                }
                            </ul>
                        </div>
                        <div class="my-3">
                            <span class="fw-semibold">Link:</span>
                            @foreach (var link in @project.Links)
                            {
                                <a href="@link.Href">@link.Display</a>
                            }
                        </div>
                        <a class="btn btn-primary" href="@project.ReadMoreLink">Read More</a>
                    </div>
                    @if (i % 2 == 0)
                    {
                        <div class="col-12 col-md-6 overflow-hidden d-flex justify-content-center">
                            <img src="@project.Image.Src" alt="@project.Image.Alt" style="max-width: 100%;">
                        </div>
                    }
                </div>
            }
        </div>
    </div>
    
</div>